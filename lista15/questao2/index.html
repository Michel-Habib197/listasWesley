<!DOCTYPE html>
<html lang="pt-br">
<head>
    <title>UC Hub - Cadastro de Aluno</title>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.min.css">
    
    <style>
        body {
            background: linear-gradient(to right, #89CFF0, #B19CD9);
            min-height: 100vh;
            padding-top: 40px; 
            padding-bottom: 40px;
        }

        .caixa-formulario {
            background-color: white;
            border-radius: 15px;
            padding: 2rem 2.5rem;
            box-shadow: 0px 5px 15px rgba(0, 0, 0, 0.1);
            max-width: 550px;
            margin: auto;
        }
    </style>
</head>
<body>

<div class="container">
    
    <div class="caixa-formulario">
        
        <h3 class="text-center mb-4">Cadastrar Novo Aluno</h3>
        
        <form id="formularioCadastro" class="needs-validation" novalidate>

            <div class="mb-3">
                <label for="matricula" class="form-label">Matrícula do Aluno:</label>
                <div class="input-group">
                    <span class="input-group-text"><i class="bi bi-hash"></i></span>
                    <input type="text" class="form-control" id="matricula" placeholder="Ex: 2024001" required>
                    <div class="invalid-feedback">
                        Por favor, preencha a matrícula do aluno.
                    </div>
                </div>
            </div>

            <div class="mb-3">
                <label for="nome" class="form-label">Nome do Aluno:</label>
                <div class="input-group">
                     <span class="input-group-text"><i class="bi bi-person-fill"></i></span>
                    <input type="text" class="form-control" id="nome" placeholder="Digite o nome completo do aluno" required>
                    <div class="invalid-feedback">
                        Por favor, preencha o nome do aluno.
                    </div>
                </div>
            </div>
            
            <div class="mb-3">
                <label for="email" class="form-label">Email do Aluno:</label>
                <div class="input-group">
                    <span class="input-group-text"><i class="bi bi-envelope-fill"></i></span>
                    <input type="email" class="form-control" id="email" placeholder="Ex: aluno@email.com" required>
                    <div class="invalid-feedback">
                        Por favor, informe um email válido.
                    </div>
                </div>
            </div>

            <div class="mb-3">
                <label for="senha" class="form-label">Senha Provisória:</label>
                <div class="input-group">
                    <span class="input-group-text"><i class="bi bi-key-fill"></i></span>
                    <input type="password" class="form-control" id="senha" placeholder="Crie uma senha para o aluno" required data-bs-toggle="tooltip" data-bs-placement="top" title="A senha deve ser segura!">
                    <div class="invalid-feedback">
                        Por favor, crie uma senha provisória.
                    </div>
                </div>
            </div>
            
            <div class="d-grid pt-2">
                <button id="btnCadastrar" type="submit" class="btn btn-primary">
                    <span id="btnSpinner" class="spinner-border spinner-border-sm" role="status" aria-hidden="true" style="display: none;"></span>
                    <span id="btnText">Cadastrar Aluno</span>
                </button>
            </div>
            
        </form>
    </div>
</div>

<div class="modal fade" id="sucessoModal" tabindex="-1" aria-labelledby="sucessoModalLabel" aria-hidden="true">
  <div class="modal-dialog modal-dialog-centered">
    <div class="modal-content">
      <div class="modal-header bg-success text-white">
        <h5 class="modal-title" id="sucessoModalLabel">Sucesso!</h5>
        <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Close"></button>
      </div>
      <div class="modal-body">
        O aluno foi cadastrado na plataforma.
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-success" data-bs-dismiss="modal">Fechar</button>
      </div>
    </div>
  </div>
</div>


<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>

<script>
    const tooltipTriggerList = document.querySelectorAll('[data-bs-toggle="tooltip"]');
    const tooltipList = [...tooltipTriggerList].map(tooltipTriggerEl => new bootstrap.Tooltip(tooltipTriggerEl));

    const form = document.getElementById('formularioCadastro');
    const btnCadastrar = document.getElementById('btnCadastrar');
    const btnSpinner = document.getElementById('btnSpinner');
    const btnText = document.getElementById('btnText');
    
    const sucessoModal = new bootstrap.Modal(document.getElementById('sucessoModal'));

    form.addEventListener('submit', function(event) {
        event.preventDefault(); 
        event.stopPropagation();

        form.classList.add('was-validated'); 

        if (form.checkValidity()) {
            btnText.textContent = 'Cadastrando...';
            btnSpinner.style.display = 'inline-block';
            btnCadastrar.disabled = true;
            sucessoModal.show();

            form.reset();
            form.classList.remove('was-validated');
            btnText.textContent = 'Cadastrar Aluno';
            btnSpinner.style.display = 'none';
            btnCadastrar.disabled = false

        }
    });
</script>

</body>
</html>